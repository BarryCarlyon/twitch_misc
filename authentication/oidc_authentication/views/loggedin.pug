doctype html
html(lang="en")
    head
        title Twitch User Access Generator Example

        meta(charset="utf-8")
        meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")

        link(rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous")

        script(src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous")
        script(src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous")
        script(src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous")

    body
        div(class="container")
            div(class="container-fluid")
                div(id="messages")
                    if flash.error
                        div(class="alert alert-danger" role="alert") #{flash.error}
                    if flash.warning
                        div(class="alert alert-warning" role="alert") #{flash.warning}
                    if flash.success
                        div(class="alert alert-success" role="alert") #{flash.success}
                    if auth_error
                        div(class="alert alert-warning" role="alert") #{auth_error}

            div(class="row")
                div(class="col")
                    h2 Logged in
                    p You are logged in. Unlike the Implicit Auth example, we don't show you you own token, thats held securely on the server.
                    p We also don't show the JWT, which is usually safe to Display, as it's not really "secure" for New API requests.
                    p You can <a href="/logout/">Logout</a>

                    h2 JWT Payload
                    table(class="table table-striped table-hover")
                        for value, key in payload
                            tr
                                td #{key}
                                td #{value}

                    h2 User from User Info Endpoint
                    table(class="table table-striped table-hover")
                        for value, key in user
                            tr
                                td #{key}
                                td #{value}

                    h2 Token Details from the token Exchange
                    table(class="table table-striped table-hover")
                        for value, key in token
                            tr
                                td #{key}
                                td #{value}
